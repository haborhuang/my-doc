# 参考资料

* https://making.pusher.com/golangs-real-time-gc-in-theory-and-practice/
* https://www.cnblogs.com/zkweb/p/7880099.html

# 三色标记法

* 根对象：全局变量, 各个G的栈上的变量。
* 初始状态，根对象及其子对象标记为白色。
* 程序运行中，新建对象标记为灰色。
* GC开始。stw并扫描根节点，并标记为灰色。
* GC开始后，灰色节点标记为黑色，灰色节点的白色子节点先标记为灰色，一次标记一个节点。
* GC开始后，如白色节点不再被访问，则不会被标记为灰色。
* GC结束。灰色节点及其子节点全部标记成黑色后，stw并释放白色节点内存。
* 黑色节点全部标记为白色，以便下次GC处理。